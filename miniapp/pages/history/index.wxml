<view class="history-container">
  <!-- æœ€ä½³æˆç»©åŒºåŸŸ -->
  <view class="best-scores-section" wx:if="{{bestScores}}">
    <view class="section-title">ğŸ† æœ€ä½³æˆç»©</view>
    <scroll-view class="best-scores-list" scroll-x>
      <view class="best-score-item" wx:for="{{['primary', 'junior', 'senior', 'university']}}" wx:key="*this">
        <view class="level-name">{{educationLevelName[item]}}</view>
        <view class="score" wx:if="{{bestScores[item]}}">
          {{bestScores[item].score}}ä¸ª
        </view>
        <view class="no-score" wx:else>-</view>
      </view>
    </scroll-view>
  </view>

  <!-- æ¸¸æˆè®°å½•åˆ—è¡¨ -->
  <view class="records-section">
    <view class="section-header">
      <view class="section-title">ğŸ“Š æ¸¸æˆè®°å½•</view>
      <view class="clear-btn" bindtap="clearRecords" wx:if="{{records.length > 0}}">
        æ¸…ç©º
      </view>
    </view>

    <!-- è®°å½•åˆ—è¡¨ -->
    <view class="records-list" wx:if="{{records.length > 0}}">
      <view 
        class="record-item" 
        wx:for="{{records}}" 
        wx:key="createdAt"
        data-index="{{index}}"
        bindtap="viewDetail"
      >
        <view class="record-left">
          <view class="record-level">{{educationLevelName[item.educationLevel]}}</view>
          <view class="record-time">{{item.formattedTime}}</view>
        </view>
        <view class="record-center">
          <view class="record-score">
            <text class="score-number">{{item.correctCount}}</text>/{{item.wordCount}}
          </view>
          <view class="record-accuracy">{{item.accuracy}}%</view>
        </view>
        <view class="record-right">
          <view class="arrow">â€º</view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:else>
      <view class="empty-icon">ğŸ“Š</view>
      <view class="empty-text">è¿˜æ²¡æœ‰æ¸¸æˆè®°å½•</view>
      <view class="empty-tip">å¿«å»å¼€å§‹ä½ çš„ç¬¬ä¸€å±€æ¸¸æˆå§ï¼</view>
    </view>
  </view>
</view>
